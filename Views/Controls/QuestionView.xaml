<?xml version="1.0" encoding="UTF-8" ?>
<ContentView 
    x:Class="SpiritualGiftsSurvey.Views.Controls.QuestionView"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
    xmlns:enums="clr-namespace:SpiritualGiftsSurvey.Enums"
    xmlns:models="clr-namespace:SpiritualGiftsSurvey.Views.Controls"
    x:DataType="models:QuestionViewModel">

    <Grid
        Margin="{Binding QuestionMargin}"
        HorizontalOptions="Fill"
        MinimumHeightRequest="0"
        RowDefinitions="Auto">

        <Border
            Stroke="{Binding BorderColor}"
            StrokeThickness="3"
            BackgroundColor="White"
            Padding="10"
            HorizontalOptions="Fill">

            <Border.StrokeShape>
                <RoundRectangle CornerRadius="10" />
            </Border.StrokeShape>

            <Grid>
                <!-- Top-left QuestionOf label -->
                <Label
                    Text="{Binding QuestionOf}"
                    TextColor="Gray"
                    FontSize="12"
                    HorizontalOptions="Start"
                    VerticalOptions="Start" />

                <!-- Main content -->
                <VerticalStackLayout
                    HorizontalOptions="Center"
                    Spacing="20"
                    Padding="0,20,0,0">
                    <!-- Push down to leave room for QuestionOf -->

                    <Label
                        Text="{Binding QuestionText}"
                        TextColor="Black"
                        FontSize="18"
                        LineBreakMode="WordWrap"
                        HorizontalOptions="Fill"
                        HorizontalTextAlignment="Center"
                        VerticalOptions="Start" />

                    <!-- Buttons layout -->
                    <StackLayout
                        x:Name="ButtonsLayout"
                        Orientation="{OnIdiom Phone='Vertical', Tablet='Horizontal'}"
                        HorizontalOptions="Center"
                        Spacing="15">

                        <Button Text="{Binding NotAtAll}"
                            IsVisible="{Binding ShowButtons}"
                            Command="{Binding SetValueCommand}"
                            CommandParameter="{x:Static enums:UserValue.NotAtAll}"
                            BackgroundColor="{Binding NotAtAllButtonColor}" />

                        <Button Text="{Binding Little}"
                            IsVisible="{Binding ShowButtons}"
                            Command="{Binding SetValueCommand}"
                            CommandParameter="{x:Static enums:UserValue.Little}"
                            BackgroundColor="{Binding LittleButtonColor}" />

                        <Button Text="{Binding Some}"
                            IsVisible="{Binding ShowButtons}"
                            Command="{Binding SetValueCommand}"
                            CommandParameter="{x:Static enums:UserValue.Some}"
                            BackgroundColor="{Binding SomeButtonColor}" />

                        <Button Text="{Binding Much}"
                            IsVisible="{Binding ShowButtons}"
                            Command="{Binding SetValueCommand}"
                            CommandParameter="{x:Static enums:UserValue.Much}"
                            BackgroundColor="{Binding MuchButtonColor}" />
                    </StackLayout>
                </VerticalStackLayout>
            </Grid>
        </Border>

    </Grid>
</ContentView>
