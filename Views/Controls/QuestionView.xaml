<?xml version="1.0" encoding="UTF-8" ?>
<ContentView 
    x:Class="SpiritualGiftsSurvey.Views.Controls.QuestionView"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
    xmlns:enums="clr-namespace:SpiritualGiftsSurvey.Enums"
    xmlns:models="clr-namespace:SpiritualGiftsSurvey.Views.Controls"
    x:DataType="models:QuestionViewModel">

    <Grid
        Margin="{Binding QuestionMargin}"
        HorizontalOptions="Fill"
        MinimumHeightRequest="0"
        RowDefinitions="Auto">

        <Border
            Stroke="{Binding BorderColor}"
            StrokeThickness="3"
            BackgroundColor="White"
            Padding="10"
            HorizontalOptions="Fill">

            <Border.StrokeShape>
                <RoundRectangle CornerRadius="{OnIdiom Phone=10, Tablet=20}" />
            </Border.StrokeShape>

            <Grid>
                <!-- Top-left QuestionOf label -->
                <Label
                    Text="{Binding QuestionOf}"
                    TextColor="Gray"
                    FontSize="{OnIdiom Phone=12, Tablet=24}"
                    HorizontalOptions="Start"
                    VerticalOptions="Start" />

                <!-- Main content -->
                <VerticalStackLayout
                    HorizontalOptions="Center"
                    Spacing="{OnIdiom Phone=20, Tablet=40}"
                    Padding="{OnIdiom Phone='0,20,0,0', Tablet='0,40,0,0'}">
                    <!-- Push down to leave room for QuestionOf -->

                    <Label
                        Text="{Binding QuestionText}"
                        TextColor="Black"
                        FontSize="{OnIdiom Phone=18, Tablet=30}"
                        LineBreakMode="WordWrap"
                        HorizontalOptions="Fill"
                        HorizontalTextAlignment="Center"
                        VerticalOptions="Start" />

                    <!-- Buttons layout -->
                    <StackLayout
                        x:Name="ButtonsLayout"
                        Orientation="{OnIdiom Phone='Vertical', Tablet='Horizontal'}"
                        HorizontalOptions="Center"
                        Spacing="{OnIdiom Phone=15, Tablet=30}"
                        Margin="{OnIdiom Phone=0, Tablet=20}">

                        <Button 
                            Text="{Binding NotAtAll}"
                            IsVisible="{Binding ShowButtons}"
                            Command="{Binding SetValueCommand}"
                            CommandParameter="{x:Static enums:UserValue.NotAtAll}"
                            BackgroundColor="{Binding NotAtAllButtonColor}"
                            FontSize="{OnIdiom Phone=12, Tablet=24}"
                            WidthRequest="{OnIdiom Phone=65, Tablet=130}" />

                        <Button 
                            Text="{Binding Little}"
                            IsVisible="{Binding ShowButtons}"
                            Command="{Binding SetValueCommand}"
                            CommandParameter="{x:Static enums:UserValue.Little}"
                            BackgroundColor="{Binding LittleButtonColor}"
                            FontSize="{OnIdiom Phone=12, Tablet=24}"
                            WidthRequest="{OnIdiom Phone=65, Tablet=130}" />

                        <Button 
                            Text="{Binding Some}"
                            IsVisible="{Binding ShowButtons}"
                            Command="{Binding SetValueCommand}"
                            CommandParameter="{x:Static enums:UserValue.Some}"
                            BackgroundColor="{Binding SomeButtonColor}"
                            FontSize="{OnIdiom Phone=12, Tablet=24}"
                            WidthRequest="{OnIdiom Phone=65, Tablet=130}" />

                        <Button 
                            Text="{Binding Much}"
                            IsVisible="{Binding ShowButtons}"
                            Command="{Binding SetValueCommand}"
                            CommandParameter="{x:Static enums:UserValue.Much}"
                            BackgroundColor="{Binding MuchButtonColor}"
                            FontSize="{OnIdiom Phone=12, Tablet=24}"
                            WidthRequest="{OnIdiom Phone=65, Tablet=130}" />
                    </StackLayout>
                </VerticalStackLayout>
            </Grid>
        </Border>

    </Grid>
</ContentView>
